<!DOCTYPE html>

<html lang="en">

    <head>

        <title>ForumApp</title>

        <style type="text/css">

            body 
            {
                margin-top: 30px !important;
            }

        </style>

        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.2.0/css/bootstrap.min.css" />
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.2.0/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore-min.js"></script>
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js"></script>

        <script>

            var App = App || {};

            $(function () {

                $("#txtInput").keydown(function (e) {
                    var thisTextBox = this;

                    if (e.which == 13) {
                        var post = new ForumPost({
                            TimeStamp: "07/14/2014",
                            Username: 'sysadmin',
                            PostDescription: $("#txtInput").val()
                        });

                        post.save({}, {
                            success: function (model) {
                                $(thisTextBox).val('');
                                App.PostList.render();
                            }
                        });
                    }
                });
            });

        </script>

    </head>

    <body>

        <div class="container">

            <div class="row">

                <div class="col-xs-5 well">

                    <fieldset>

                        <legend>Forum App</legend>

                    <div class="row">

                        <div class="col-xs-12">

                            <input type="text" class="form-control" id="txtInput" placeholder="Say something.." />

                        </div>

                        <div class="col-xs-12">
                    
                            <div id="list_container">


                            </div>

                        </div>

                    </div>

                    </fieldset>

                </div>

            </div>

        </div>

        <script type="text/template" id="list-template">
            <table class="table table-responsive" id="list">
                <thead>
                    <tr><td>&nbsp;</td><td>&nbsp;</td></tr>
                </thead>
                <tbody>
                </tbody>
            </table>

            <span class="text text-danger" style="display: <%= PostCount == 0 ? 'block' : 'none' %>">No records.</span>
        </script>

        <script type="text/template" id="item-template">
            <tr>
                <td><span><%= PostDescription %></span></td>
                <td>
                    <div class="pull-right">
                        <a href="#" id="btnDelete"><span class="glyphicon glyphicon-remove"></span></a>
                    </div>
                </td>
            </tr>
        </script>

        <script type="text/javascript" src="js/Types.js"></script>
        <script type="text/javascript" src="js/Views.js"></script>
        <script type="text/javascript" src="js/Routes.js"></script>

    </body>

</html>
